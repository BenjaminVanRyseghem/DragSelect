var dragSelect=function(e){function t(e){L={x:e.pageX||e.clientX,y:e.pageY||e.clientY},y.style.display="block",y.style.top=L.y+"px",y.style.left=L.x+"px",o(),w.removeEventListener("mousedown",t),w.addEventListener("mousemove",n),document.addEventListener("mouseup",l)}function n(e){S={x:e.pageX||e.clientX,y:e.pageY||e.clientY},S.x>L.x?y.style.width=S.x-L.x+"px":(y.style.left=S.x+"px",y.style.width=L.x-S.x+"px"),S.y>L.y?y.style.height=S.y-L.y+"px":(y.style.top=S.y+"px",y.style.height=L.y-S.y+"px"),o()}function o(){for(var e=0,t=g.length;e<t;e++){var n=g[e],o=E.indexOf(n);c(n,y)?o<0&&(E.push(n),a(n,"selected"),x(n)):o>-1&&(E.splice(E.indexOf(n),1),u(n,"selected"),h(n))}}function l(){y.style.width="0",y.style.height="0",y.style.display="none",v(E),w.removeEventListener("mousemove",n),w.addEventListener("mousedown",t)}function c(e,t){var n={x:w?w.scrollTop:window.scrollY||document.documentElement.scrollTop,y:w?w.scrollLeft:window.scrollX||document.documentElement.scrollLeft},o={y:t.getBoundingClientRect().top+n.y,x:t.getBoundingClientRect().left+n.x,h:t.offsetHeight,w:t.offsetWidth},l={y:e.getBoundingClientRect().top+n.y,x:e.getBoundingClientRect().left+n.x,h:e.offsetHeight,w:e.offsetWidth};return o.x<l.x+l.w&&o.x+o.w>l.x&&o.y<l.y+l.h&&o.h+o.y>l.y}function s(e){for(var t=f(e),n=0,o=t.length;n<o;n++){var l=t[n];g.indexOf(l)<0&&g.push(l)}}function r(e){for(var t=f(e),n=0,o=t.length;n<o;n++){var l=t[n];g.indexOf(l)>0&&(u(l,"selected"),g.splice(g.indexOf(l),1))}}function i(){return E}function d(){l(),w.removeEventListener("mousedown",t),document.removeEventListener("mouseup",l)}function a(e,t){var n=e.className;-1===n.indexOf(t)&&(""!==n&&(t=" "+t),e.className=n+t)}function u(e,t){var n=e.className;new RegExp(t+"\\b","g");n=n.replace(t,""),e.className=n}function f(e){if(!e)return!1;if(!e.length&&m(e))return[e];for(var t=[],n=e.length-1;n>=0;n--)t[n]=e[n];return t}function m(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}}e||console.log("ERROR: dragSelect: please provide an options object to the function. See reference at: https://github.com/ThibaultJanBeyer/dragSelect for more info");var y=e.selector||document.getElementById("rectangle"),p=f(e.selectables),g=p||[],x=e.onElementSelect||function(){},h=e.onElementUnselect||function(){},v=e.callback||function(){},w=e.area||document,E=[],b=function(){w.addEventListener("mousedown",t)};b();var L,S;return{isElement:m,toArray:f,removeClass:u,addClass:a,stop:d,isElementTouching:c,reset:l,checkIfInside:o,move:n,startUp:t,start:b,getSelection:i,removeSelectables:r,addSelectables:s}};"undefined"!=typeof module&&null!==module?module.exports=dragSelect:window.dragSelect=dragSelect;