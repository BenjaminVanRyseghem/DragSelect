var dragSelect=function(e){function t(e){for(var t=y(e),n=0,o=t.length;n<o;n++){var l=t[n];h.indexOf(l)<0&&h.push(l)}}function n(e){for(var t=y(e),n=0,o=t.length;n<o;n++){var l=t[n];h.indexOf(l)>0&&(f(l,"selected"),h.splice(h.indexOf(l),1))}}function o(){document.addEventListener("mousedown",l)}function l(e){E={x:e.pageX||e.clientX,y:e.pageY||e.clientY},g.style.display="block",g.style.top=E.y+"px",g.style.left=E.x+"px",s(),document.addEventListener("mousemove",c),document.addEventListener("mouseup",i)}function c(e){S={x:e.pageX||e.clientX,y:e.pageY||e.clientY},S.x>E.x?g.style.width=S.x-E.x+"px":(g.style.left=S.x+"px",g.style.width=E.x-S.x+"px"),S.y>E.y?g.style.height=S.y-E.y+"px":(g.style.top=S.y+"px",g.style.height=E.y-S.y+"px"),s()}function s(){for(var e=0,t=h.length;e<t;e++){var n=h[e],o=b.indexOf(n);r(n,g)?o<0&&(b.push(n),u(n,"selected"),x(n)):o>-1&&(b.splice(b.indexOf(n),1),f(n,"selected"),v(n))}}function i(){g.style.width="0",g.style.height="0",g.style.display="none",document.removeEventListener("mousemove",c),w(b)}function r(e,t){var n={x:window.scrollY||document.documentElement.scrollTop,y:window.scrollX||document.documentElement.scrollLeft},o={y:t.getBoundingClientRect().top+n.y,x:t.getBoundingClientRect().left+n.x,h:t.offsetHeight,w:t.offsetWidth},l={y:e.getBoundingClientRect().top+n.y,x:e.getBoundingClientRect().left+n.x,h:e.offsetHeight,w:e.offsetWidth};return o.x<l.x+l.w&&o.x+o.w>l.x&&o.y<l.y+l.h&&o.h+o.y>l.y}function a(){return b}function d(){i(),document.removeEventListener("mousedown",l)}function u(e,t){var n=e.className;-1===n.indexOf(t)&&(""!==n&&(t=" "+t),e.className=n+t)}function f(e,t){var n=e.className;new RegExp(t+"\\b","g");n=n.replace(t,""),e.className=n}function y(e){if(!e.length&&m(e))return[e];for(var t=[],n=e.length;n>0;n--)t[n]=e[n];return t}function m(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}}e?e&&!e.selectables&&console.log("ERROR: dragSelect: please provide nodes that can be selected. See reference at: https://github.com/ThibaultJanBeyer/dragSelect for more info"):console.log("ERROR: dragSelect: please provide an options object to the function. See reference at: https://github.com/ThibaultJanBeyer/dragSelect for more info");var p=e.selector||document.getElementById("rectangle"),g=y(p),h=y(e.selectables)||[],x=e.onElementSelect||function(){},v=e.onElementUnselect||function(){},w=e.callback||function(){},b=[];o();var E,S;return{removeClass:f,addClass:u,stop:d,isElementTouching:r,reset:i,checkIfInside:s,move:c,startUp:l,start:o,getSelection:a,removeSelectables:n,addSelectables:t}};"undefined"!=typeof module&&null!==module?module.exports=dragSelect:window.dragSelect=dragSelect;